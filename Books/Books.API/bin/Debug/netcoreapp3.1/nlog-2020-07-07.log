2020-07-07 10:55:43.2038|INFO|Books.API.Program|Initializing application...
2020-07-07 10:55:44.6504|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 3.1.2 initialized 'BookInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 10:55:45.4769|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (14ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 10:55:45.6405|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [BookInfoDB] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2020-07-07 10:55:45.8307|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (33ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [BookInfoDB];
2020-07-07 10:55:56.3077|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (211ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [BookInfoDB];
2020-07-07 10:55:56.3498|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (35ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [BookInfoDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2020-07-07 10:55:56.3646|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 10:55:56.4400|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2020-07-07 10:55:56.4527|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 10:55:56.4766|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2020-07-07 10:55:56.4919|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2020-07-07 10:55:56.5096|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200305171620_BookInfoDBInitialMigration'.
2020-07-07 10:55:56.5406|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Books] (
    [Id] int NOT NULL IDENTITY,
    [Title] nvarchar(512) NOT NULL,
    [Author] nvarchar(256) NOT NULL,
    [Description] nvarchar(1024) NULL,
    [Genre] nvarchar(256) NULL,
    CONSTRAINT [PK_Books] PRIMARY KEY ([Id])
);
2020-07-07 10:55:56.5406|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Quotations] (
    [Id] int NOT NULL IDENTITY,
    [Quote] nvarchar(1024) NOT NULL,
    [BookId] int NOT NULL,
    CONSTRAINT [PK_Quotations] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Quotations_Books_BookId] FOREIGN KEY ([BookId]) REFERENCES [Books] ([Id]) ON DELETE CASCADE
);
2020-07-07 10:55:56.5606|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Quotations_BookId] ON [Quotations] ([BookId]);
2020-07-07 10:55:56.5711|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200305171620_BookInfoDBInitialMigration', N'3.1.2');
2020-07-07 10:55:56.5711|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200305174452_BookInfoDBAddNotesFieldToQuotation'.
2020-07-07 10:55:56.6016|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Quotations] ADD [Notes] nvarchar(1024) NULL;
2020-07-07 10:55:56.6114|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200305174452_BookInfoDBAddNotesFieldToQuotation', N'3.1.2');
2020-07-07 10:55:56.6228|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200306134955_SampleData'.
2020-07-07 10:55:56.6624|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Author', N'Description', N'Title', N'Genre') AND [object_id] = OBJECT_ID(N'[Books]'))
    SET IDENTITY_INSERT [Books] ON;
INSERT INTO [Books] ([Id], [Author], [Description], [Title], [Genre])
VALUES (1, N'Charles Dickens', N'', N'Great Expectations', N''),
(2, N'George Orwell', N'', N'Animal Farm', N''),
(3, N'Dashiell Hammett', N'', N'The Maltese Falcon', N''),
(4, N'E M Forster', N'', N'A Room with a View', N''),
(5, N'Harper Lee', N'', N'To Kill a Mockingbird', N''),
(6, N'George Orwell', N'', N'1984', N'Dystopian Fiction'),
(7, N'Charles Dickens', N'', N'A Christmas Carol', N'Novel'),
(8, N'Oscar Wilde', N'', N'The Picture of Dorian Gray', N'Novel'),
(9, N'Ray Bradbury', N'', N'Fahrenheit 451', N'Dystopian Fiction'),
(10, N'Jack London', N'', N'The Call of the Wild', N'Adventure Fiction'),
(11, N'Agatha Christie', N'', N'Murder on the Orient Express', N'Crime Fiction');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Author', N'Description', N'Title', N'Genre') AND [object_id] = OBJECT_ID(N'[Books]'))
    SET IDENTITY_INSERT [Books] OFF;
2020-07-07 10:55:56.6786|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'BookId', N'Notes', N'Quote') AND [object_id] = OBJECT_ID(N'[Quotations]'))
    SET IDENTITY_INSERT [Quotations] ON;
INSERT INTO [Quotations] ([Id], [BookId], [Notes], [Quote])
VALUES (1, 1, N'', N'You are in every line I have ever read.'),
(2, 1, N'', N'Spring is the time of year when it is summer in the sun and winter in the shade.'),
(3, 2, N'', N'All animals are equal, but some animals are more equal than others.'),
(4, 2, N'', N'Four legs good, two legs bad.'),
(5, 2, N'', N'This work was strictly voluntary, but any animal who absented himself from it would have his rations reduced by half.'),
(6, 3, N'', N' I wanted it, and I''m not a man that''s easily discouraged when he wants something.'),
(7, 3, N'', N'You know how to do things ... you''ll land on your feet in the end.'),
(8, 3, N'', N'The cheaper the crook, the gaudier the patter.'),
(9, 4, N'', N'Life is easy to chronicle, but bewildering to practice.'),
(10, 4, N'', N'Of course he despised the world as a whole; every thoughtful man should; it is almost a test of refinement.'),
(11, 4, N'', N'The world is certainly full of beautiful things, if only I could come across them.'),
(12, 5, N'', N'You never really understand a person until you consider things from his point of view... Until you climb inside of his skin and walk around in it.'),
(13, 5, N'', N'People generally see what they look for, and hear what they listen for.'),
(14, 5, N'', N'Lawyers, I suppose were once children, too.');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'BookId', N'Notes', N'Quote') AND [object_id] = OBJECT_ID(N'[Quotations]'))
    SET IDENTITY_INSERT [Quotations] OFF;
2020-07-07 10:55:56.6884|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200306134955_SampleData', N'3.1.2');
2020-07-07 10:55:56.6993|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200623160411_SampleData2'.
2020-07-07 10:55:56.7180|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Books] SET [Genre] = N'Political Satire'
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2020-07-07 10:55:56.7276|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Books] SET [Genre] = N'Crime Fiction'
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2020-07-07 10:55:56.7276|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Books] SET [Genre] = N'Novel'
WHERE [Id] = 4;
SELECT @@ROWCOUNT;
2020-07-07 10:55:56.7460|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Books] SET [Genre] = N'Bildungsroman'
WHERE [Id] = 5;
SELECT @@ROWCOUNT;
2020-07-07 10:55:56.7460|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Books] SET [Genre] = N'Novel'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2020-07-07 10:55:56.7648|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200623160411_SampleData2', N'3.1.2');
2020-07-07 10:55:56.7784|INFO|Books.API.Program|Running host...
2020-07-07 10:55:56.9206|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:51004
2020-07-07 10:55:56.9206|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.
2020-07-07 10:55:56.9372|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development
2020-07-07 10:55:56.9372|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\Dev\source\repos\PS\Books\Books.API
2020-07-07 11:00:51.6873|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 POST http://localhost:51004/api/books/ application/json 3426
2020-07-07 11:00:51.7222|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Books.API.Controllers.BooksController.CreateBook (Books.API)'
2020-07-07 11:00:51.7484|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "CreateBook", controller = "Books"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[Books.API.Models.BookDto] CreateBook(Books.API.Models.BookForCreationDto) on controller Books.API.Controllers.BooksController (Books.API).
2020-07-07 11:00:51.9969|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2020-07-07 11:00:52.0431|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Books.API.Controllers.BooksController.CreateBook (Books.API) in 278.1222ms
2020-07-07 11:00:52.0431|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Books.API.Controllers.BooksController.CreateBook (Books.API)'
2020-07-07 11:00:52.0656|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished in 375.8584ms 400 application/problem+json; charset=utf-8
2020-07-07 11:55:38.1148|INFO|Books.API.Program|Initializing application...
2020-07-07 11:55:39.2018|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 3.1.2 initialized 'BookInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 11:55:40.2220|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (14ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 11:55:40.4085|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [BookInfoDB] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2020-07-07 11:55:40.6555|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [BookInfoDB];
2020-07-07 11:55:51.1289|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (259ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [BookInfoDB];
2020-07-07 11:55:51.1725|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (34ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [BookInfoDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2020-07-07 11:55:51.1888|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 11:55:51.2619|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2020-07-07 11:55:51.2770|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 11:55:51.3026|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2020-07-07 11:55:51.3208|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2020-07-07 11:55:51.3410|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200305171620_BookInfoDBInitialMigration'.
2020-07-07 11:55:51.3734|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Books] (
    [Id] int NOT NULL IDENTITY,
    [Title] nvarchar(512) NOT NULL,
    [Author] nvarchar(256) NOT NULL,
    [Description] nvarchar(1024) NULL,
    [Genre] nvarchar(256) NULL,
    CONSTRAINT [PK_Books] PRIMARY KEY ([Id])
);
2020-07-07 11:55:51.3855|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Quotations] (
    [Id] int NOT NULL IDENTITY,
    [Quote] nvarchar(1024) NOT NULL,
    [BookId] int NOT NULL,
    CONSTRAINT [PK_Quotations] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Quotations_Books_BookId] FOREIGN KEY ([BookId]) REFERENCES [Books] ([Id]) ON DELETE CASCADE
);
2020-07-07 11:55:51.3855|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Quotations_BookId] ON [Quotations] ([BookId]);
2020-07-07 11:55:51.4084|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200305171620_BookInfoDBInitialMigration', N'3.1.2');
2020-07-07 11:55:51.4239|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200305174452_BookInfoDBAddNotesFieldToQuotation'.
2020-07-07 11:55:51.4412|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Quotations] ADD [Notes] nvarchar(1024) NULL;
2020-07-07 11:55:51.4523|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200305174452_BookInfoDBAddNotesFieldToQuotation', N'3.1.2');
2020-07-07 11:55:51.4652|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200306134955_SampleData'.
2020-07-07 11:55:51.5052|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Author', N'Description', N'Title', N'Genre') AND [object_id] = OBJECT_ID(N'[Books]'))
    SET IDENTITY_INSERT [Books] ON;
INSERT INTO [Books] ([Id], [Author], [Description], [Title], [Genre])
VALUES (1, N'Charles Dickens', N'', N'Great Expectations', N''),
(2, N'George Orwell', N'', N'Animal Farm', N''),
(3, N'Dashiell Hammett', N'', N'The Maltese Falcon', N''),
(4, N'E M Forster', N'', N'A Room with a View', N''),
(5, N'Harper Lee', N'', N'To Kill a Mockingbird', N''),
(6, N'George Orwell', N'', N'1984', N'Dystopian Fiction'),
(7, N'Charles Dickens', N'', N'A Christmas Carol', N'Novel'),
(8, N'Oscar Wilde', N'', N'The Picture of Dorian Gray', N'Novel'),
(9, N'Ray Bradbury', N'', N'Fahrenheit 451', N'Dystopian Fiction'),
(10, N'Jack London', N'', N'The Call of the Wild', N'Adventure Fiction'),
(11, N'Agatha Christie', N'', N'Murder on the Orient Express', N'Crime Fiction');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Author', N'Description', N'Title', N'Genre') AND [object_id] = OBJECT_ID(N'[Books]'))
    SET IDENTITY_INSERT [Books] OFF;
2020-07-07 11:55:51.5236|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'BookId', N'Notes', N'Quote') AND [object_id] = OBJECT_ID(N'[Quotations]'))
    SET IDENTITY_INSERT [Quotations] ON;
INSERT INTO [Quotations] ([Id], [BookId], [Notes], [Quote])
VALUES (1, 1, N'', N'You are in every line I have ever read.'),
(2, 1, N'', N'Spring is the time of year when it is summer in the sun and winter in the shade.'),
(3, 2, N'', N'All animals are equal, but some animals are more equal than others.'),
(4, 2, N'', N'Four legs good, two legs bad.'),
(5, 2, N'', N'This work was strictly voluntary, but any animal who absented himself from it would have his rations reduced by half.'),
(6, 3, N'', N' I wanted it, and I''m not a man that''s easily discouraged when he wants something.'),
(7, 3, N'', N'You know how to do things ... you''ll land on your feet in the end.'),
(8, 3, N'', N'The cheaper the crook, the gaudier the patter.'),
(9, 4, N'', N'Life is easy to chronicle, but bewildering to practice.'),
(10, 4, N'', N'Of course he despised the world as a whole; every thoughtful man should; it is almost a test of refinement.'),
(11, 4, N'', N'The world is certainly full of beautiful things, if only I could come across them.'),
(12, 5, N'', N'You never really understand a person until you consider things from his point of view... Until you climb inside of his skin and walk around in it.'),
(13, 5, N'', N'People generally see what they look for, and hear what they listen for.'),
(14, 5, N'', N'Lawyers, I suppose were once children, too.');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'BookId', N'Notes', N'Quote') AND [object_id] = OBJECT_ID(N'[Quotations]'))
    SET IDENTITY_INSERT [Quotations] OFF;
2020-07-07 11:55:51.5344|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200306134955_SampleData', N'3.1.2');
2020-07-07 11:55:51.5466|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200623160411_SampleData2'.
2020-07-07 11:55:51.5667|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Books] SET [Genre] = N'Political Satire'
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2020-07-07 11:55:51.5771|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Books] SET [Genre] = N'Crime Fiction'
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2020-07-07 11:55:51.5873|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Books] SET [Genre] = N'Novel'
WHERE [Id] = 4;
SELECT @@ROWCOUNT;
2020-07-07 11:55:51.5873|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Books] SET [Genre] = N'Bildungsroman'
WHERE [Id] = 5;
SELECT @@ROWCOUNT;
2020-07-07 11:55:51.6078|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Books] SET [Genre] = N'Novel'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2020-07-07 11:55:51.6182|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200623160411_SampleData2', N'3.1.2');
2020-07-07 11:55:51.6182|INFO|Books.API.Program|Running host...
2020-07-07 11:55:51.7332|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:51004
2020-07-07 11:55:51.7332|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.
2020-07-07 11:55:51.7493|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development
2020-07-07 11:55:51.7493|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\Dev\source\repos\PS\Books\Books.API
2020-07-07 11:56:34.6826|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 POST http://localhost:51004/api/books/ application/json 458
2020-07-07 11:56:34.7166|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Books.API.Controllers.BooksController.CreateBook (Books.API)'
2020-07-07 11:56:34.7416|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "CreateBook", controller = "Books"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[Books.API.Models.BookDto] CreateBook(Books.API.Models.BookForCreationDto) on controller Books.API.Controllers.BooksController (Books.API).
2020-07-07 11:56:34.9836|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2020-07-07 11:56:35.0271|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Books.API.Controllers.BooksController.CreateBook (Books.API) in 269.1292ms
2020-07-07 11:56:35.0271|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Books.API.Controllers.BooksController.CreateBook (Books.API)'
2020-07-07 11:56:35.0464|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished in 364.7002ms 400 application/problem+json; charset=utf-8
2020-07-07 11:59:15.6613|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 POST http://localhost:51004/api/books/ application/json 3426
2020-07-07 11:59:15.6749|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Books.API.Controllers.BooksController.CreateBook (Books.API)'
2020-07-07 11:59:15.6836|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "CreateBook", controller = "Books"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[Books.API.Models.BookDto] CreateBook(Books.API.Models.BookForCreationDto) on controller Books.API.Controllers.BooksController (Books.API).
2020-07-07 11:59:15.7355|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2020-07-07 11:59:15.7475|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Books.API.Controllers.BooksController.CreateBook (Books.API) in 50.2226ms
2020-07-07 11:59:15.7475|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Books.API.Controllers.BooksController.CreateBook (Books.API)'
2020-07-07 11:59:15.7652|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished in 104.1085ms 400 application/problem+json; charset=utf-8
2020-07-07 15:00:09.0037|INFO|Books.API.Program|Initializing application...
2020-07-07 15:00:10.0859|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 3.1.2 initialized 'BookInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:00:10.8106|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 15:00:10.9935|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [BookInfoDB] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2020-07-07 15:00:11.1732|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [BookInfoDB];
2020-07-07 15:00:21.5736|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (189ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [BookInfoDB];
2020-07-07 15:00:21.6278|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [BookInfoDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2020-07-07 15:00:21.6473|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 15:00:21.7314|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2020-07-07 15:00:21.7487|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 15:00:21.7773|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2020-07-07 15:00:21.7995|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2020-07-07 15:00:21.8207|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200305171620_BookInfoDBInitialMigration'.
2020-07-07 15:00:21.8575|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Books] (
    [Id] int NOT NULL IDENTITY,
    [Title] nvarchar(512) NOT NULL,
    [Author] nvarchar(256) NOT NULL,
    [Description] nvarchar(1024) NULL,
    [Genre] nvarchar(256) NULL,
    CONSTRAINT [PK_Books] PRIMARY KEY ([Id])
);
2020-07-07 15:00:21.8722|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Quotations] (
    [Id] int NOT NULL IDENTITY,
    [Quote] nvarchar(1024) NOT NULL,
    [BookId] int NOT NULL,
    CONSTRAINT [PK_Quotations] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Quotations_Books_BookId] FOREIGN KEY ([BookId]) REFERENCES [Books] ([Id]) ON DELETE CASCADE
);
2020-07-07 15:00:21.8847|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Quotations_BookId] ON [Quotations] ([BookId]);
2020-07-07 15:00:21.8847|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200305171620_BookInfoDBInitialMigration', N'3.1.2');
2020-07-07 15:00:21.9158|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200305174452_BookInfoDBAddNotesFieldToQuotation'.
2020-07-07 15:00:21.9349|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Quotations] ADD [Notes] nvarchar(1024) NULL;
2020-07-07 15:00:21.9471|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200305174452_BookInfoDBAddNotesFieldToQuotation', N'3.1.2');
2020-07-07 15:00:21.9471|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200306134955_SampleData'.
2020-07-07 15:00:22.0036|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Author', N'Description', N'Title', N'Genre') AND [object_id] = OBJECT_ID(N'[Books]'))
    SET IDENTITY_INSERT [Books] ON;
INSERT INTO [Books] ([Id], [Author], [Description], [Title], [Genre])
VALUES (1, N'Charles Dickens', N'', N'Great Expectations', N''),
(2, N'George Orwell', N'', N'Animal Farm', N''),
(3, N'Dashiell Hammett', N'', N'The Maltese Falcon', N''),
(4, N'E M Forster', N'', N'A Room with a View', N''),
(5, N'Harper Lee', N'', N'To Kill a Mockingbird', N''),
(6, N'George Orwell', N'', N'1984', N'Dystopian Fiction'),
(7, N'Charles Dickens', N'', N'A Christmas Carol', N'Novel'),
(8, N'Oscar Wilde', N'', N'The Picture of Dorian Gray', N'Novel'),
(9, N'Ray Bradbury', N'', N'Fahrenheit 451', N'Dystopian Fiction'),
(10, N'Jack London', N'', N'The Call of the Wild', N'Adventure Fiction'),
(11, N'Agatha Christie', N'', N'Murder on the Orient Express', N'Crime Fiction');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Author', N'Description', N'Title', N'Genre') AND [object_id] = OBJECT_ID(N'[Books]'))
    SET IDENTITY_INSERT [Books] OFF;
2020-07-07 15:00:22.0223|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'BookId', N'Notes', N'Quote') AND [object_id] = OBJECT_ID(N'[Quotations]'))
    SET IDENTITY_INSERT [Quotations] ON;
INSERT INTO [Quotations] ([Id], [BookId], [Notes], [Quote])
VALUES (1, 1, N'', N'You are in every line I have ever read.'),
(2, 1, N'', N'Spring is the time of year when it is summer in the sun and winter in the shade.'),
(3, 2, N'', N'All animals are equal, but some animals are more equal than others.'),
(4, 2, N'', N'Four legs good, two legs bad.'),
(5, 2, N'', N'This work was strictly voluntary, but any animal who absented himself from it would have his rations reduced by half.'),
(6, 3, N'', N' I wanted it, and I''m not a man that''s easily discouraged when he wants something.'),
(7, 3, N'', N'You know how to do things ... you''ll land on your feet in the end.'),
(8, 3, N'', N'The cheaper the crook, the gaudier the patter.'),
(9, 4, N'', N'Life is easy to chronicle, but bewildering to practice.'),
(10, 4, N'', N'Of course he despised the world as a whole; every thoughtful man should; it is almost a test of refinement.'),
(11, 4, N'', N'The world is certainly full of beautiful things, if only I could come across them.'),
(12, 5, N'', N'You never really understand a person until you consider things from his point of view... Until you climb inside of his skin and walk around in it.'),
(13, 5, N'', N'People generally see what they look for, and hear what they listen for.'),
(14, 5, N'', N'Lawyers, I suppose were once children, too.');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'BookId', N'Notes', N'Quote') AND [object_id] = OBJECT_ID(N'[Quotations]'))
    SET IDENTITY_INSERT [Quotations] OFF;
2020-07-07 15:00:22.0336|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200306134955_SampleData', N'3.1.2');
2020-07-07 15:00:22.0473|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200623160411_SampleData2'.
2020-07-07 15:00:22.0684|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Books] SET [Genre] = N'Political Satire'
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2020-07-07 15:00:22.0794|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Books] SET [Genre] = N'Crime Fiction'
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2020-07-07 15:00:22.0900|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Books] SET [Genre] = N'Novel'
WHERE [Id] = 4;
SELECT @@ROWCOUNT;
2020-07-07 15:00:22.0900|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Books] SET [Genre] = N'Bildungsroman'
WHERE [Id] = 5;
SELECT @@ROWCOUNT;
2020-07-07 15:00:22.1113|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Books] SET [Genre] = N'Novel'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2020-07-07 15:00:22.1216|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200623160411_SampleData2', N'3.1.2');
2020-07-07 15:00:22.1365|INFO|Books.API.Program|Running host...
2020-07-07 15:00:22.2380|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:51004
2020-07-07 15:00:22.2472|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.
2020-07-07 15:00:22.2472|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development
2020-07-07 15:00:22.2616|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\Dev\source\repos\PS\Books\Books.API
2020-07-07 15:00:54.8390|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 POST http://localhost:51004/api/books/ application/json 3426
2020-07-07 15:00:54.8722|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Books.API.Controllers.BooksController.CreateBook (Books.API)'
2020-07-07 15:00:54.8975|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "CreateBook", controller = "Books"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[Books.API.Models.BookDto] CreateBook(Books.API.Models.BookForCreationDto) on controller Books.API.Controllers.BooksController (Books.API).
2020-07-07 15:00:55.1386|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2020-07-07 15:00:55.1830|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Books.API.Controllers.BooksController.CreateBook (Books.API) in 268.4428ms
2020-07-07 15:00:55.1830|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Books.API.Controllers.BooksController.CreateBook (Books.API)'
2020-07-07 15:00:55.2028|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished in 364.87ms 400 application/problem+json; charset=utf-8
2020-07-07 15:01:26.9289|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 POST http://localhost:51004/api/books/ application/json 3417
2020-07-07 15:01:26.9428|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Books.API.Controllers.BooksController.CreateBook (Books.API)'
2020-07-07 15:01:26.9514|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "CreateBook", controller = "Books"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[Books.API.Models.BookDto] CreateBook(Books.API.Models.BookForCreationDto) on controller Books.API.Controllers.BooksController (Books.API).
2020-07-07 15:01:26.9985|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2020-07-07 15:01:27.0127|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Books.API.Controllers.BooksController.CreateBook (Books.API) in 47.941ms
2020-07-07 15:01:27.0127|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Books.API.Controllers.BooksController.CreateBook (Books.API)'
2020-07-07 15:01:27.0300|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished in 101.2576ms 400 application/problem+json; charset=utf-8
2020-07-07 15:20:56.8658|INFO|Books.API.Program|Initializing application...
2020-07-07 15:20:57.8914|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 3.1.2 initialized 'BookInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:20:58.7111|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (14ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 15:20:58.7891|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [BookInfoDB] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2020-07-07 15:20:58.9676|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (14ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [BookInfoDB];
2020-07-07 15:21:09.3554|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (175ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [BookInfoDB];
2020-07-07 15:21:09.4027|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [BookInfoDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2020-07-07 15:21:09.4196|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 15:21:09.4952|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2020-07-07 15:21:09.5109|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 15:21:09.5367|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2020-07-07 15:21:09.5547|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2020-07-07 15:21:09.5751|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200305171620_BookInfoDBInitialMigration'.
2020-07-07 15:21:09.6069|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Books] (
    [Id] int NOT NULL IDENTITY,
    [Title] nvarchar(512) NOT NULL,
    [Author] nvarchar(256) NOT NULL,
    [Description] nvarchar(1024) NULL,
    [Genre] nvarchar(256) NULL,
    CONSTRAINT [PK_Books] PRIMARY KEY ([Id])
);
2020-07-07 15:21:09.6192|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Quotations] (
    [Id] int NOT NULL IDENTITY,
    [Quote] nvarchar(1024) NOT NULL,
    [BookId] int NOT NULL,
    CONSTRAINT [PK_Quotations] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Quotations_Books_BookId] FOREIGN KEY ([BookId]) REFERENCES [Books] ([Id]) ON DELETE CASCADE
);
2020-07-07 15:21:09.6192|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Quotations_BookId] ON [Quotations] ([BookId]);
2020-07-07 15:21:09.6431|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200305171620_BookInfoDBInitialMigration', N'3.1.2');
2020-07-07 15:21:09.6594|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200305174452_BookInfoDBAddNotesFieldToQuotation'.
2020-07-07 15:21:09.6775|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Quotations] ADD [Notes] nvarchar(1024) NULL;
2020-07-07 15:21:09.6896|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200305174452_BookInfoDBAddNotesFieldToQuotation', N'3.1.2');
2020-07-07 15:21:09.7044|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200306134955_SampleData'.
2020-07-07 15:21:09.7458|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Author', N'Description', N'Title', N'Genre') AND [object_id] = OBJECT_ID(N'[Books]'))
    SET IDENTITY_INSERT [Books] ON;
INSERT INTO [Books] ([Id], [Author], [Description], [Title], [Genre])
VALUES (1, N'Charles Dickens', N'', N'Great Expectations', N''),
(2, N'George Orwell', N'', N'Animal Farm', N''),
(3, N'Dashiell Hammett', N'', N'The Maltese Falcon', N''),
(4, N'E M Forster', N'', N'A Room with a View', N''),
(5, N'Harper Lee', N'', N'To Kill a Mockingbird', N''),
(6, N'George Orwell', N'', N'1984', N'Dystopian Fiction'),
(7, N'Charles Dickens', N'', N'A Christmas Carol', N'Novel'),
(8, N'Oscar Wilde', N'', N'The Picture of Dorian Gray', N'Novel'),
(9, N'Ray Bradbury', N'', N'Fahrenheit 451', N'Dystopian Fiction'),
(10, N'Jack London', N'', N'The Call of the Wild', N'Adventure Fiction'),
(11, N'Agatha Christie', N'', N'Murder on the Orient Express', N'Crime Fiction');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Author', N'Description', N'Title', N'Genre') AND [object_id] = OBJECT_ID(N'[Books]'))
    SET IDENTITY_INSERT [Books] OFF;
2020-07-07 15:21:09.7633|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'BookId', N'Notes', N'Quote') AND [object_id] = OBJECT_ID(N'[Quotations]'))
    SET IDENTITY_INSERT [Quotations] ON;
INSERT INTO [Quotations] ([Id], [BookId], [Notes], [Quote])
VALUES (1, 1, N'', N'You are in every line I have ever read.'),
(2, 1, N'', N'Spring is the time of year when it is summer in the sun and winter in the shade.'),
(3, 2, N'', N'All animals are equal, but some animals are more equal than others.'),
(4, 2, N'', N'Four legs good, two legs bad.'),
(5, 2, N'', N'This work was strictly voluntary, but any animal who absented himself from it would have his rations reduced by half.'),
(6, 3, N'', N' I wanted it, and I''m not a man that''s easily discouraged when he wants something.'),
(7, 3, N'', N'You know how to do things ... you''ll land on your feet in the end.'),
(8, 3, N'', N'The cheaper the crook, the gaudier the patter.'),
(9, 4, N'', N'Life is easy to chronicle, but bewildering to practice.'),
(10, 4, N'', N'Of course he despised the world as a whole; every thoughtful man should; it is almost a test of refinement.'),
(11, 4, N'', N'The world is certainly full of beautiful things, if only I could come across them.'),
(12, 5, N'', N'You never really understand a person until you consider things from his point of view... Until you climb inside of his skin and walk around in it.'),
(13, 5, N'', N'People generally see what they look for, and hear what they listen for.'),
(14, 5, N'', N'Lawyers, I suppose were once children, too.');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'BookId', N'Notes', N'Quote') AND [object_id] = OBJECT_ID(N'[Quotations]'))
    SET IDENTITY_INSERT [Quotations] OFF;
2020-07-07 15:21:09.7633|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200306134955_SampleData', N'3.1.2');
2020-07-07 15:21:09.7871|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200623160411_SampleData2'.
2020-07-07 15:21:09.8082|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Books] SET [Genre] = N'Political Satire'
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2020-07-07 15:21:09.8082|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Books] SET [Genre] = N'Crime Fiction'
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2020-07-07 15:21:09.8298|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Books] SET [Genre] = N'Novel'
WHERE [Id] = 4;
SELECT @@ROWCOUNT;
2020-07-07 15:21:09.8405|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Books] SET [Genre] = N'Bildungsroman'
WHERE [Id] = 5;
SELECT @@ROWCOUNT;
2020-07-07 15:21:09.8405|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Books] SET [Genre] = N'Novel'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2020-07-07 15:21:09.8635|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200623160411_SampleData2', N'3.1.2');
2020-07-07 15:21:09.8792|INFO|Books.API.Program|Running host...
2020-07-07 15:21:09.9818|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:51004
2020-07-07 15:21:09.9818|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.
2020-07-07 15:21:09.9991|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development
2020-07-07 15:21:09.9991|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\Dev\source\repos\PS\Books\Books.API
2020-07-07 15:21:32.6995|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 POST http://localhost:51004/api/books/ application/json 458
2020-07-07 15:21:32.7337|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Books.API.Controllers.BooksController.CreateBook (Books.API)'
2020-07-07 15:21:32.7594|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "CreateBook", controller = "Books"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[Books.API.Models.BookDto] CreateBook(Books.API.Models.BookForCreationDto) on controller Books.API.Controllers.BooksController (Books.API).
2020-07-07 15:21:33.0032|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2020-07-07 15:21:33.0490|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Books.API.Controllers.BooksController.CreateBook (Books.API) in 271.991ms
2020-07-07 15:21:33.0576|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Books.API.Controllers.BooksController.CreateBook (Books.API)'
2020-07-07 15:21:33.0576|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished in 371.2211ms 400 application/problem+json; charset=utf-8
2020-07-07 15:25:05.5423|INFO|Books.API.Program|Initializing application...
2020-07-07 15:25:06.5618|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 3.1.2 initialized 'BookInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:25:06.7708|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 15:25:06.8189|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [BookInfoDB] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2020-07-07 15:25:06.8403|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [BookInfoDB];
2020-07-07 15:25:17.0752|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (203ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [BookInfoDB];
2020-07-07 15:25:17.1180|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (33ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [BookInfoDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2020-07-07 15:25:17.1351|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 15:25:17.2102|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2020-07-07 15:25:17.2255|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 15:25:17.2504|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2020-07-07 15:25:17.2678|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2020-07-07 15:25:17.2876|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200305171620_BookInfoDBInitialMigration'.
2020-07-07 15:25:17.3196|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Books] (
    [Id] int NOT NULL IDENTITY,
    [Title] nvarchar(512) NOT NULL,
    [Author] nvarchar(256) NOT NULL,
    [Description] nvarchar(1024) NULL,
    [Genre] nvarchar(256) NULL,
    CONSTRAINT [PK_Books] PRIMARY KEY ([Id])
);
2020-07-07 15:25:17.3318|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Quotations] (
    [Id] int NOT NULL IDENTITY,
    [Quote] nvarchar(1024) NOT NULL,
    [BookId] int NOT NULL,
    CONSTRAINT [PK_Quotations] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Quotations_Books_BookId] FOREIGN KEY ([BookId]) REFERENCES [Books] ([Id]) ON DELETE CASCADE
);
2020-07-07 15:25:17.3433|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Quotations_BookId] ON [Quotations] ([BookId]);
2020-07-07 15:25:17.3555|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200305171620_BookInfoDBInitialMigration', N'3.1.2');
2020-07-07 15:25:17.3712|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200305174452_BookInfoDBAddNotesFieldToQuotation'.
2020-07-07 15:25:17.3887|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Quotations] ADD [Notes] nvarchar(1024) NULL;
2020-07-07 15:25:17.4001|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200305174452_BookInfoDBAddNotesFieldToQuotation', N'3.1.2');
2020-07-07 15:25:17.4001|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200306134955_SampleData'.
2020-07-07 15:25:17.4488|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Author', N'Description', N'Title', N'Genre') AND [object_id] = OBJECT_ID(N'[Books]'))
    SET IDENTITY_INSERT [Books] ON;
INSERT INTO [Books] ([Id], [Author], [Description], [Title], [Genre])
VALUES (1, N'Charles Dickens', N'', N'Great Expectations', N''),
(2, N'George Orwell', N'', N'Animal Farm', N''),
(3, N'Dashiell Hammett', N'', N'The Maltese Falcon', N''),
(4, N'E M Forster', N'', N'A Room with a View', N''),
(5, N'Harper Lee', N'', N'To Kill a Mockingbird', N''),
(6, N'George Orwell', N'', N'1984', N'Dystopian Fiction'),
(7, N'Charles Dickens', N'', N'A Christmas Carol', N'Novel'),
(8, N'Oscar Wilde', N'', N'The Picture of Dorian Gray', N'Novel'),
(9, N'Ray Bradbury', N'', N'Fahrenheit 451', N'Dystopian Fiction'),
(10, N'Jack London', N'', N'The Call of the Wild', N'Adventure Fiction'),
(11, N'Agatha Christie', N'', N'Murder on the Orient Express', N'Crime Fiction');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Author', N'Description', N'Title', N'Genre') AND [object_id] = OBJECT_ID(N'[Books]'))
    SET IDENTITY_INSERT [Books] OFF;
2020-07-07 15:25:17.4655|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'BookId', N'Notes', N'Quote') AND [object_id] = OBJECT_ID(N'[Quotations]'))
    SET IDENTITY_INSERT [Quotations] ON;
INSERT INTO [Quotations] ([Id], [BookId], [Notes], [Quote])
VALUES (1, 1, N'', N'You are in every line I have ever read.'),
(2, 1, N'', N'Spring is the time of year when it is summer in the sun and winter in the shade.'),
(3, 2, N'', N'All animals are equal, but some animals are more equal than others.'),
(4, 2, N'', N'Four legs good, two legs bad.'),
(5, 2, N'', N'This work was strictly voluntary, but any animal who absented himself from it would have his rations reduced by half.'),
(6, 3, N'', N' I wanted it, and I''m not a man that''s easily discouraged when he wants something.'),
(7, 3, N'', N'You know how to do things ... you''ll land on your feet in the end.'),
(8, 3, N'', N'The cheaper the crook, the gaudier the patter.'),
(9, 4, N'', N'Life is easy to chronicle, but bewildering to practice.'),
(10, 4, N'', N'Of course he despised the world as a whole; every thoughtful man should; it is almost a test of refinement.'),
(11, 4, N'', N'The world is certainly full of beautiful things, if only I could come across them.'),
(12, 5, N'', N'You never really understand a person until you consider things from his point of view... Until you climb inside of his skin and walk around in it.'),
(13, 5, N'', N'People generally see what they look for, and hear what they listen for.'),
(14, 5, N'', N'Lawyers, I suppose were once children, too.');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'BookId', N'Notes', N'Quote') AND [object_id] = OBJECT_ID(N'[Quotations]'))
    SET IDENTITY_INSERT [Quotations] OFF;
2020-07-07 15:25:17.4655|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200306134955_SampleData', N'3.1.2');
2020-07-07 15:25:17.4878|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200623160411_SampleData2'.
2020-07-07 15:25:17.5074|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Books] SET [Genre] = N'Political Satire'
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2020-07-07 15:25:17.5177|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Books] SET [Genre] = N'Crime Fiction'
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2020-07-07 15:25:17.5278|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Books] SET [Genre] = N'Novel'
WHERE [Id] = 4;
SELECT @@ROWCOUNT;
2020-07-07 15:25:17.5278|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Books] SET [Genre] = N'Bildungsroman'
WHERE [Id] = 5;
SELECT @@ROWCOUNT;
2020-07-07 15:25:17.5488|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Books] SET [Genre] = N'Novel'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2020-07-07 15:25:17.5597|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200623160411_SampleData2', N'3.1.2');
2020-07-07 15:25:17.5744|INFO|Books.API.Program|Running host...
2020-07-07 15:25:17.6672|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:51004
2020-07-07 15:25:17.6672|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.
2020-07-07 15:25:17.6836|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development
2020-07-07 15:25:17.6836|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\Dev\source\repos\PS\Books\Books.API
2020-07-07 15:25:24.9712|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 POST http://localhost:51004/api/books/ application/json 3417
2020-07-07 15:25:25.0040|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Books.API.Controllers.BooksController.CreateBook (Books.API)'
2020-07-07 15:25:25.0291|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "CreateBook", controller = "Books"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[Books.API.Models.BookDto] CreateBook(Books.API.Models.BookForCreationDto) on controller Books.API.Controllers.BooksController (Books.API).
2020-07-07 15:25:25.2647|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2020-07-07 15:25:25.3086|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Books.API.Controllers.BooksController.CreateBook (Books.API) in 263.188ms
2020-07-07 15:25:25.3086|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Books.API.Controllers.BooksController.CreateBook (Books.API)'
2020-07-07 15:25:25.3286|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished in 358.5058ms 400 application/problem+json; charset=utf-8
2020-07-07 15:36:00.1788|INFO|Books.API.Program|Initializing application...
2020-07-07 15:36:01.2295|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 3.1.2 initialized 'BookInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-07-07 15:36:01.9984|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 15:36:02.1383|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [BookInfoDB] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2020-07-07 15:36:02.3157|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [BookInfoDB];
2020-07-07 15:36:12.6429|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (121ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [BookInfoDB];
2020-07-07 15:36:12.6933|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [BookInfoDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2020-07-07 15:36:12.7125|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 15:36:12.7912|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2020-07-07 15:36:12.8092|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-07-07 15:36:12.8376|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2020-07-07 15:36:12.8580|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2020-07-07 15:36:12.8791|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200305171620_BookInfoDBInitialMigration'.
2020-07-07 15:36:12.9165|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Books] (
    [Id] int NOT NULL IDENTITY,
    [Title] nvarchar(512) NOT NULL,
    [Author] nvarchar(256) NOT NULL,
    [Description] nvarchar(1024) NULL,
    [Genre] nvarchar(256) NULL,
    CONSTRAINT [PK_Books] PRIMARY KEY ([Id])
);
2020-07-07 15:36:12.9305|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Quotations] (
    [Id] int NOT NULL IDENTITY,
    [Quote] nvarchar(1024) NOT NULL,
    [BookId] int NOT NULL,
    CONSTRAINT [PK_Quotations] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Quotations_Books_BookId] FOREIGN KEY ([BookId]) REFERENCES [Books] ([Id]) ON DELETE CASCADE
);
2020-07-07 15:36:12.9305|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Quotations_BookId] ON [Quotations] ([BookId]);
2020-07-07 15:36:12.9570|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200305171620_BookInfoDBInitialMigration', N'3.1.2');
2020-07-07 15:36:12.9761|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200305174452_BookInfoDBAddNotesFieldToQuotation'.
2020-07-07 15:36:12.9963|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Quotations] ADD [Notes] nvarchar(1024) NULL;
2020-07-07 15:36:12.9963|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200305174452_BookInfoDBAddNotesFieldToQuotation', N'3.1.2');
2020-07-07 15:36:13.0247|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200306134955_SampleData'.
2020-07-07 15:36:13.0671|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Author', N'Description', N'Title', N'Genre') AND [object_id] = OBJECT_ID(N'[Books]'))
    SET IDENTITY_INSERT [Books] ON;
INSERT INTO [Books] ([Id], [Author], [Description], [Title], [Genre])
VALUES (1, N'Charles Dickens', N'', N'Great Expectations', N''),
(2, N'George Orwell', N'', N'Animal Farm', N''),
(3, N'Dashiell Hammett', N'', N'The Maltese Falcon', N''),
(4, N'E M Forster', N'', N'A Room with a View', N''),
(5, N'Harper Lee', N'', N'To Kill a Mockingbird', N''),
(6, N'George Orwell', N'', N'1984', N'Dystopian Fiction'),
(7, N'Charles Dickens', N'', N'A Christmas Carol', N'Novel'),
(8, N'Oscar Wilde', N'', N'The Picture of Dorian Gray', N'Novel'),
(9, N'Ray Bradbury', N'', N'Fahrenheit 451', N'Dystopian Fiction'),
(10, N'Jack London', N'', N'The Call of the Wild', N'Adventure Fiction'),
(11, N'Agatha Christie', N'', N'Murder on the Orient Express', N'Crime Fiction');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Author', N'Description', N'Title', N'Genre') AND [object_id] = OBJECT_ID(N'[Books]'))
    SET IDENTITY_INSERT [Books] OFF;
2020-07-07 15:36:13.0856|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'BookId', N'Notes', N'Quote') AND [object_id] = OBJECT_ID(N'[Quotations]'))
    SET IDENTITY_INSERT [Quotations] ON;
INSERT INTO [Quotations] ([Id], [BookId], [Notes], [Quote])
VALUES (1, 1, N'', N'You are in every line I have ever read.'),
(2, 1, N'', N'Spring is the time of year when it is summer in the sun and winter in the shade.'),
(3, 2, N'', N'All animals are equal, but some animals are more equal than others.'),
(4, 2, N'', N'Four legs good, two legs bad.'),
(5, 2, N'', N'This work was strictly voluntary, but any animal who absented himself from it would have his rations reduced by half.'),
(6, 3, N'', N' I wanted it, and I''m not a man that''s easily discouraged when he wants something.'),
(7, 3, N'', N'You know how to do things ... you''ll land on your feet in the end.'),
(8, 3, N'', N'The cheaper the crook, the gaudier the patter.'),
(9, 4, N'', N'Life is easy to chronicle, but bewildering to practice.'),
(10, 4, N'', N'Of course he despised the world as a whole; every thoughtful man should; it is almost a test of refinement.'),
(11, 4, N'', N'The world is certainly full of beautiful things, if only I could come across them.'),
(12, 5, N'', N'You never really understand a person until you consider things from his point of view... Until you climb inside of his skin and walk around in it.'),
(13, 5, N'', N'People generally see what they look for, and hear what they listen for.'),
(14, 5, N'', N'Lawyers, I suppose were once children, too.');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'BookId', N'Notes', N'Quote') AND [object_id] = OBJECT_ID(N'[Quotations]'))
    SET IDENTITY_INSERT [Quotations] OFF;
2020-07-07 15:36:13.0978|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200306134955_SampleData', N'3.1.2');
2020-07-07 15:36:13.1123|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200623160411_SampleData2'.
2020-07-07 15:36:13.1355|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Books] SET [Genre] = N'Political Satire'
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2020-07-07 15:36:13.1355|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Books] SET [Genre] = N'Crime Fiction'
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2020-07-07 15:36:13.1592|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Books] SET [Genre] = N'Novel'
WHERE [Id] = 4;
SELECT @@ROWCOUNT;
2020-07-07 15:36:13.1708|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Books] SET [Genre] = N'Bildungsroman'
WHERE [Id] = 5;
SELECT @@ROWCOUNT;
2020-07-07 15:36:13.1824|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
UPDATE [Books] SET [Genre] = N'Novel'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2020-07-07 15:36:13.1824|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200623160411_SampleData2', N'3.1.2');
2020-07-07 15:36:13.2103|INFO|Books.API.Program|Running host...
2020-07-07 15:36:13.3150|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:51004
2020-07-07 15:36:13.3247|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.
2020-07-07 15:36:13.3247|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development
2020-07-07 15:36:13.3403|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\Dev\source\repos\PS\Books\Books.API
2020-07-07 15:36:24.0373|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 POST http://localhost:51004/api/books/ application/json 3417
2020-07-07 15:36:24.0719|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Books.API.Controllers.BooksController.CreateBook (Books.API)'
2020-07-07 15:36:24.0983|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "CreateBook", controller = "Books"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[Books.API.Models.BookDto] CreateBook(Books.API.Models.BookForCreationDto) on controller Books.API.Controllers.BooksController (Books.API).
2020-07-07 15:36:24.3428|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2020-07-07 15:36:24.3886|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action Books.API.Controllers.BooksController.CreateBook (Books.API) in 272.154ms
2020-07-07 15:36:24.3886|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Books.API.Controllers.BooksController.CreateBook (Books.API)'
2020-07-07 15:36:24.4097|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished in 373.4722ms 400 application/problem+json; charset=utf-8
2020-07-07 16:38:29.1218|INFO|Books.API.Program|Initializing application...
2020-07-07 16:38:29.8279|ERROR|Books.API.Program|Exception occurred whilst migrating the database.
2020-07-07 16:38:29.8279|INFO|Books.API.Program|Running host...
2020-07-07 16:38:29.9525|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:51004
2020-07-07 16:38:29.9630|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.
2020-07-07 16:38:29.9630|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Production
2020-07-07 16:38:29.9797|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\Dev\source\repos\PS\Books\Books.API
2020-07-07 16:40:03.4595|INFO|Books.API.Program|Initializing application...
2020-07-07 16:40:15.8989|INFO|Books.API.Program|Running host...
2020-07-07 16:40:16.0080|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:51004
2020-07-07 16:40:16.0185|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.
2020-07-07 16:40:16.0262|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Production
2020-07-07 16:40:16.0262|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\Dev\source\repos\PS\Books\Books.API
2020-07-07 16:49:17.1448|INFO|Books.API.Program|Initializing application...
2020-07-07 16:49:29.2751|INFO|Books.API.Program|Running host...
2020-07-07 16:49:29.3833|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:51004
2020-07-07 16:49:29.3939|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.
2020-07-07 16:49:29.4020|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Production
2020-07-07 16:49:29.4020|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\Dev\source\repos\PS\Books\Books.API
